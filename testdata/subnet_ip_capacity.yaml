# subnet_ip_capacity.yaml
# 이 파일은 CheckVpcSubnetIpCapacity 함수 테스트를 위한 다양한 케이스를 정의합니다.

- name: "Subnet with low capacity"
  expected_result:
    subnet-1: 10
  cluster:
    resourcesVpcConfig:
      subnetIds:
        - "subnet-1"
        - "subnet-2"
  subnets:
    - subnet_id: "subnet-1"
      cidr_block: "192.168.0.0/24"   # /24: 총 IP = 2^(32-24)-5 = 251
      available_ip: 10               # 10 < 10% of 251 (약 25)이므로 용량 부족
    - subnet_id: "subnet-2"
      cidr_block: "192.168.1.0/24"
      available_ip: 100              # 100는 충분하다고 가정

- name: "All subnets with sufficient capacity"
  expected_result: {}
  cluster:
    resourcesVpcConfig:
      subnetIds:
        - "subnet-3"
  subnets:
    - subnet_id: "subnet-3"
      cidr_block: "10.0.0.0/24"       # /24: 총 IP = 251
      available_ip: 230              # 230 > 25이므로 용량 충분
